<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>scloud random</title>
	<link rel="stylesheet" type="text/css" href="http://skowronski.cloud/scloud_assets/scloud.css" />
	<script src="jquery-3.5.0.min.js"></script>

	<style>
		body{
			padding: 1vw;
		}
		#random{
			font-family: 'Ubuntu Mono', monospace;
			font-size: 32px;
		}
		#regenerate{
			font-family: 'Ubuntu Mono', monospace;
			font-size: 3vw;
			padding: 10px;
		}
		td{
			padding-left:     10px;
			padding-right:    10px;
			padding-top:       5px;
			padding-bottom:    5px;

			text-align: center;
			font-size: 1.95vw;

			white-space: nowrap;
			word-break: break-all;
		}
		.header{
			text-align: right;
			font-weight: bold;
		}


	</style>
</head>
<body>
<h1>
    <table>
        <tr>
            <td>
                <img src="http://skowronski.cloud/scloud_assets/logo_cloud.png" class="logo" />
            </td>
            <td style="padding-left: 10px; font-size: 96px;" >
                scloud random
            </td>
        </tr>
    </table>
</h1>

<button id="regenerate" onClick="start_routine()">regenerate</button><br /><br />
<table id="random" border=1>
	<tr class="num1k"><td class="header">num <1k</td><td>111</td><td>111</td><td>111</td><td>111</td><td>111</td><td>111</td><td>111</td><td>111</td></tr>
	<tr class="num1m"><td class="header">num <1M</td><td colspan="2">111111</td><td colspan="2">111111</td><td colspan="2">111111</td><td colspan="2">111111</td></tr>

	<tr class="pl"><td class="header">word PL</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td></tr>
	<tr class="pl"><td class="header">word PL</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td></tr>
	<tr class="en"><td class="header">word EN</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td></tr>
	<tr class="en"><td class="header">word EN</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td><td colspan="2">aaaaaaaaaa</td></tr>
	
	<tr class="rand16"><td class="header">len=16</td><td colspan="2">aaaaaaaaaaaaaaaa</td><td colspan="2">aaaaaaaaaaaaaaaa</td><td colspan="2">aaaaaaaaaaaaaaaa</td><td colspan="2">aaaaaaaaaaaaaaaa</td></tr>
	<tr class="rand32"><td class="header">len=32</td><td colspan="4">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td><td colspan="4">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td></tr>
	<tr class="rand32"><td class="header">len=32</td><td colspan="4">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td><td colspan="4">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td></tr>
	<tr class="rand64"><td class="header">len=64</td><td colspan="8">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td></tr>
	<tr class="rand64"><td class="header">len=64</td><td colspan="8">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td></tr>
	<tr class="rand64"><td class="header">len=64</td><td colspan="8">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td></tr>
	<tr class="rand64"><td class="header">len=64</td><td colspan="8">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td></tr>
</table>

<script>
	Array.prototype.sample = function(){
		return this[Math.floor(Math.random()*this.length)];
	}

	if(localStorage.getItem("slowa")===null || localStorage.getItem("words")===null) {
		$.get( "slowa.txt", function( data ) {
			localStorage.setItem("slowa", data);
			$.get( "popular.txt", function( data2 ) {
				localStorage.setItem("words", data2 );
				start_routine();
			});
		});
	}
	else {
		$(function() {
			start_routine();
		});
	}

	function start_routine(){
		$.each($(".rand16 td:not(.header)"), function(index, td){
			$(td).html(random_string(16));
		});
		$.each($(".rand32 td:not(.header)"), function(index, td){
			$(td).html(random_string(32));
		});
		$.each($(".rand64 td:not(.header)"), function(index, td){
			$(td).html(random_string(64));
		});

		$.each($(".pl td:not(.header)"), function(index, td){
			$(td).html(select_word("slowa"));
		});
		$.each($(".en td:not(.header)"), function(index, td){
			$(td).html(select_word("words"));
		});

		$.each($(".num1k td:not(.header)"), function(index, td){
			$(td).html(random_number(1000, false));
		});
		$.each($(".num1m td:not(.header)"), function(index, td){
			$(td).html(random_number(1000000, true));
		});
	}
	function select_word(dictionary){
		var words=localStorage.getItem(dictionary).split("\n");
		var selected=words.sample();
		if (dictionary=="slowa") {
			return selected.split("/")[0];
		}
		else {
			return selected;
		}
	}

	function random_string(len){
		const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

		var result="";
		for ( var i = 0; i < len; i++ ) {
			result += characters.split("").sample();
		}

		return result;
	}

	function random_number(max, pad){
		var num = Math.floor(Math.random() * max);
		if (pad) {
			return String(num).padStart(String(max).len, "0");
		}
		else {
			return String(num);
		}
	}
</script>

</body>
</html>